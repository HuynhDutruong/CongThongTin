<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giáo Xứ Chánh Tòa Mỹ Tho - Giới Thiệu</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Noto+Serif+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #FFD700;
            --gold-light: #FFF9C4;
            --white: #FFFFFF;
            --dark-blue: #0A0E2A;
            --light-blue: #1E3A8A;
            --purple: #4A148C;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, var(--dark-blue), var(--purple));
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: 'Merriweather', cursive;
            position: relative;
            perspective: 1000px;
        }
        
        /* Thiên hà 3D */
        .galaxy-3d {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            overflow: hidden;
        }
        
        .star {
            position: absolute;
            background-color: var(--white);
            border-radius: 50%;
            animation: twinkle var(--duration, 5s) infinite ease-in-out;
            opacity: var(--opacity, 0.8);
            filter: blur(0.5px);
        }
        
        /* Sao băng */
        .shooting-star {
            position: absolute;
            width: 120px;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--white));
            border-radius: 50%;
            filter: drop-shadow(0 0 6px var(--gold-light));
            transform: rotate(var(--angle, -45deg));
            animation: shooting var(--speed, 4s) linear infinite;
            opacity: 0;
            z-index: 2;
        }
        
        .shooting-star::after {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 15px;
            height: 15px;
            background: radial-gradient(circle, var(--white), transparent 70%);
            border-radius: 50%;
        }
        
        @keyframes shooting {
            0% { 
                opacity: 0;
                transform: translateX(0) translateY(0) rotate(var(--angle, -45deg));
            }
            10% { opacity: 1; }
            80% { opacity: 1; }
            100% { 
                opacity: 0;
                transform: translateX(calc(100vw + 100px)) translateY(calc(-100vh - 100px)) rotate(var(--angle, -45deg));
            }
        }
        
        /* Logo Container */
        .logo-container {
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            z-index: 20;
            width: 100%;
            height: 100%;
        }
        
        .logo-wrapper {
            position: relative;
            width: 40vmin;
            height: 40vmin;
            min-width: 300px;
            min-height: 300px;
            margin: 2rem 0;
            transform-style: preserve-3d;
        }
        
        .logo {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: contain;
            opacity: 0;
            transform: scale(0.5) rotateY(180deg);
            animation: logoEntrance 2.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            position: relative;
            z-index: 25;
            filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.9));
            backface-visibility: hidden;
        }
        
        @keyframes logoEntrance {
            0% { opacity: 0; transform: scale(0.5) rotateY(180deg); }
            40% { opacity: 1; transform: scale(1.1) rotateY(0deg); }
            60% { transform: scale(0.95); }
            80% { transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1) rotateY(0deg); }
        }
        
        /* Ánh sáng thánh */
        .holy-light {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, 
                rgba(255, 215, 0, 0.3) 0%, 
                rgba(255, 215, 0, 0.1) 40%, 
                transparent 70%);
            border-radius: 50%;
            z-index: 15;
            opacity: 0;
            animation: holyLight 4s ease-in-out infinite 1.5s;
            pointer-events: none;
        }
        
        @keyframes holyLight {
            0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(0.8); }
            50% { opacity: 0.7; transform: translate(-50%, -50%) scale(1.2); }
        }
        
        /* Kim tuyến rơi */
        .glitter {
            position: absolute;
            width: 8px;
            height: 8px;
            background: radial-gradient(circle, var(--gold-light), transparent 70%);
            border-radius: 50%;
            z-index: 10;
            opacity: 0;
            filter: drop-shadow(0 0 5px var(--gold));
            animation: glitterFall linear infinite;
        }
        
        @keyframes glitterFall {
            0% {
                opacity: 0;
                transform: translateY(-10vh) rotate(0deg);
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% {
                opacity: 0;
                transform: translateY(110vh) rotate(360deg);
            }
        }
        
        /* Text Styles */
        .text {
            color: var(--gold);
            opacity: 0;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.7), 
                        0 0 30px rgba(255, 215, 0, 0.4);
            position: relative;
            z-index: 20;
            margin: 1rem 0;
            text-align: center;
            max-width: 90%;
            animation: textFadeIn 2s ease-out forwards;
            animation-delay: 0.8s;
            font-weight: 700;
            letter-spacing: 1px;
        }
        
        @keyframes textFadeIn {
            from { 
                opacity: 0; 
                transform: translateY(30px) scale(0.9);
                text-shadow: 0 0 50px rgba(255, 215, 0, 0);
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1);
                text-shadow: 0 0 15px rgba(255, 215, 0, 0.7), 
                            0 0 30px rgba(255, 215, 0, 0.4);
            }
        }
        
        .text-top {
            font-size: clamp(1.8rem, 4vw, 3rem);
            text-transform: uppercase;
            animation-delay: 0.5s;
        }
        
        .text-bottom {
            font-size: clamp(1.5rem, 3vw, 2.5rem);
            font-style: italic;
            margin-top: 0.5rem;
            animation-delay: 1s;
        }
        
        /* Pháo hoa cao cấp */
        .firework-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            pointer-events: none;
            overflow: hidden;
        }
        
        .firework {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            box-shadow: 0 0 15px 3px;
            z-index: 5;
            opacity: 0;
        }
        
        /* Hạt pháo hoa */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            z-index: 6;
            opacity: 0;
            filter: blur(0.5px);
        }
        
        /* Ánh sáng tỏa */
        .light-beam {
            position: absolute;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, 
                rgba(255, 255, 255, 0.1) 0%, 
                transparent 70%);
            border-radius: 50%;
            z-index: 3;
            opacity: 0;
            animation: beamPulse 6s ease-in-out infinite;
        }
        
        @keyframes beamPulse {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 0.3; transform: scale(1.5); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .logo-wrapper {
                width: 65vmin;
                height: 65vmin;
                min-width: 220px;
                min-height: 220px;
            }
            
            .text-top {
                font-size: 2rem;
                font-family: 'Merriweather', cursive;
            }
            
            .text-bottom {
                font-size: 1.7rem;
                font-family: 'Merriweather', cursive;
            }
            
            .holy-light {
                width: 150%;
                height: 150%;
            }
        }
    </style>
</head>
<body>
    <!-- Thiên hà 3D -->
    <div class="galaxy-3d" id="galaxy"></div>
    
    <!-- Ánh sáng tỏa -->
    <div class="light-beam" style="top: 20%; left: 10%; animation-delay: 0.5s;"></div>
    <div class="light-beam" style="top: 70%; left: 80%; animation-delay: 2s;"></div>
    
    <!-- Container pháo hoa -->
    <div class="firework-container" id="fireworks"></div>
    
    <!-- Nội dung chính -->
    <div class="logo-container">
        <div class="logo-wrapper">
            <div class="holy-light"></div>
            <img src="assets/logo.png" alt="Logo Giáo Xứ Chánh Tòa Mỹ Tho" class="logo">
        </div>
    </div>
    
    <!-- Âm thanh -->
    <audio id="bgMusic" src="audio/bgMusic.mp3" preload="auto"></audio>
    <audio id="fireworkSound" src="audio/firework.mp3" preload="auto"></audio>
    
    <script>
        // Khởi tạo âm thanh
        const bgMusic = document.getElementById('bgMusic');
        const fireworkSound = document.getElementById('fireworkSound');
        bgMusic.volume = 0.6;
        
        // Phát nhạc khi người dùng tương tác
        function startAudio() {
            bgMusic.play().catch(e => console.log("Audio error:", e));
            document.removeEventListener('click', startAudio);
            document.removeEventListener('touchstart', startAudio);
        }
        
        document.addEventListener('click', startAudio);
        document.addEventListener('touchstart', startAudio);
        
        // Tạo thiên hà
        const galaxy = document.getElementById('galaxy');
        const starCount = 300;
        
        for (let i = 0; i < starCount; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            
            // Vị trí ngẫu nhiên
            const x = Math.random() * 100;
            const y = Math.random() * 100;
            
            // Kích thước ngẫu nhiên (1px đến 4px)
            const size = Math.random() * 3 + 1;
            
            // Thời gian animation (3s đến 10s)
            const duration = Math.random() * 7 + 3;
            
            // Độ mờ
            const opacity = Math.random() * 0.8 + 0.2;
            
            star.style.left = `${x}%`;
            star.style.top = `${y}%`;
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            star.style.setProperty('--duration', `${duration}s`);
            star.style.setProperty('--opacity', opacity);
            star.style.animationDelay = `${Math.random() * 10}s`;
            
            galaxy.appendChild(star);
        }
        
        // Tạo sao băng
        function createShootingStar() {
            const star = document.createElement('div');
            star.className = 'shooting-star';
            
            // Vị trí bắt đầu ngẫu nhiên
            const startX = Math.random() * 20;
            const startY = Math.random() * 20 + 10;
            
            // Góc bay
            const angle = -45 + (Math.random() * 30 - 15);
            
            // Tốc độ
            const speed = 3 + Math.random() * 3;
            
            star.style.left = `${startX}%`;
            star.style.top = `${startY}%`;
            star.style.setProperty('--angle', `${angle}deg`);
            star.style.setProperty('--speed', `${speed}s`);
            star.style.animationDelay = `${Math.random() * 5}s`;
            
            document.body.appendChild(star);
            
            // Tự xóa sau khi hoàn thành animation
            setTimeout(() => {
                star.remove();
            }, speed * 1000);
        }
        
        // Tạo kim tuyến rơi
        function createGlitter() {
            const glitter = document.createElement('div');
            glitter.className = 'glitter';
            
            // Vị trí ngẫu nhiên
            const x = Math.random() * 100;
            
            // Thời gian rơi
            const duration = 5 + Math.random() * 5;
            
            // Kích thước
            const size = 4 + Math.random() * 4;
            
            // Delay
            const delay = Math.random() * 10;
            
            glitter.style.left = `${x}%`;
            glitter.style.width = `${size}px`;
            glitter.style.height = `${size}px`;
            glitter.style.animationDuration = `${duration}s`;
            glitter.style.animationDelay = `${delay}s`;
            
            document.body.appendChild(glitter);
            
            // Tự xóa sau khi rơi
            setTimeout(() => {
                glitter.remove();
            }, (duration + delay) * 1000);
        }
        
        // Tạo pháo hoa cao cấp
        function createFirework(x, y, color) {
            const firework = document.createElement('div');
            firework.className = 'firework';
            firework.style.left = `${x}px`;
            firework.style.top = `${y}px`;
            firework.style.boxShadow = `0 0 15px 3px ${color}`;
            firework.style.backgroundColor = color;
            
            document.getElementById('fireworks').appendChild(firework);
            
            // Animation pháo hoa
            const particleCount = 80 + Math.floor(Math.random() * 70);
            const angleIncrement = (Math.PI * 2) / particleCount;
            
            // Hiệu ứng nổ sau delay
            setTimeout(() => {
                // Phát âm thanh
                fireworkSound.currentTime = 0;
                fireworkSound.play().catch(e => console.log("Firework sound error:", e));
                
                // Ẩn pháo hoa chính
                firework.style.opacity = '0';
                firework.style.transform = 'scale(0)';
                firework.style.transition = 'all 0.5s ease-out';
                
                // Tạo các hạt pháo hoa
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = `${x}px`;
                    particle.style.top = `${y}px`;
                    
                    // Màu sắc
                    const hueShift = Math.random() * 40 - 20;
                    const particleColor = `hsl(${getHue(color) + hueShift}, 100%, 70%)`;
                    particle.style.backgroundColor = particleColor;
                    particle.style.boxShadow = `0 0 8px 1px ${particleColor}`;
                    
                    // Kích thước
                    const size = 3 + Math.random() * 3;
                    particle.style.width = `${size}px`;
                    particle.style.height = `${size}px`;
                    
                    // Tốc độ
                    const angle = angleIncrement * i;
                    const velocity = 1.5 + Math.random() * 3;
                    const vx = Math.cos(angle) * velocity;
                    const vy = Math.sin(angle) * velocity;
                    
                    document.getElementById('fireworks').appendChild(particle);
                    
                    // Animation hạt
                    setTimeout(() => {
                        particle.style.opacity = '1';
                        particle.style.transition = 'all 1.2s ease-out';
                        
                        const distance = 60 + Math.random() * 120;
                        particle.style.transform = `translate(${vx * distance}px, ${vy * distance}px)`;
                        particle.style.opacity = '0';
                        
                        // Xóa hạt sau animation
                        setTimeout(() => {
                            particle.remove();
                        }, 1200);
                    }, 0);
                }
                
                // Xóa pháo hoa sau khi hoàn thành
                setTimeout(() => {
                    firework.remove();
                }, 500);
            }, 500 + Math.random() * 500);
            
            // Hiển thị pháo hoa
            setTimeout(() => {
                firework.style.opacity = '1';
                firework.style.transform = 'scale(1)';
                firework.style.transition = 'all 0.3s ease-out';
            }, 0);
        }
        
        // Hàm lấy giá trị Hue từ màu
        function getHue(color) {
            const temp = document.createElement('div');
            temp.style.color = color;
            document.body.appendChild(temp);
            const rgb = window.getComputedStyle(temp).color;
            document.body.removeChild(temp);
            
            const match = rgb.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);
            if (!match) return 60; // Màu vàng mặc định
            
            const r = parseInt(match[1]) / 255;
            const g = parseInt(match[2]) / 255;
            const b = parseInt(match[3]) / 255;
            
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h = 0;
            
            if (max === min) {
                h = 0;
            } else {
                const d = max - min;
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }
            
            return Math.round(h * 360);
        }
        
        // Tạo pháo hoa ngẫu nhiên
        function launchRandomFirework() {
            const colors = [
                '#FFD700', // vàng
                '#FF4500', // đỏ cam
                '#FF1493', // hồng đậm
                '#00BFFF', // xanh da trời
                '#7CFC00', // xanh lá
                '#9370DB',  // tím
                '#FF6347'  // cam đỏ
            ];
            
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight * 0.4;
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            createFirework(x, y, color);
        }
        
        // Khởi tạo hiệu ứng
        for (let i = 0; i < 30; i++) {
            createGlitter();
        }
        
        // Chạy các hiệu ứng
        let shootingStarInterval = setInterval(createShootingStar, 2000);
        let fireworkInterval = setInterval(launchRandomFirework, 800);
        let glitterInterval = setInterval(createGlitter, 500);
        
        // Tự động chuyển trang sau 4 giây
        setTimeout(() => {
            clearInterval(shootingStarInterval);
            clearInterval(fireworkInterval);
            clearInterval(glitterInterval);
            window.location.href = 'index.html';
        }, 4000);
        
        // Tối ưu cho mobile
        function isMobile() {
            return window.innerWidth <= 768;
        }
        
        if (isMobile()) {
            // Điều chỉnh cho mobile
            clearInterval(fireworkInterval);
            fireworkInterval = setInterval(launchRandomFirework, 1200);
            
            // Giảm số lượng sao để tối ưu hiệu suất
            const stars = document.querySelectorAll('.star');
            for (let i = 150; i < stars.length; i++) {
                stars[i].remove();
            }
        }
    </script>
</body>
</html>